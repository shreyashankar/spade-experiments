prompt_template,response,func_a,func_b,func_a_src,func_b_src,result
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_as_markdown_format,assert_absence_of_follow_along_in_name,"async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_as_markdown_format,assert_equipment_section_existence,"async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_as_markdown_format,assert_completeness_and_correctness_of_response,"async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_as_markdown_format,assert_presence_headers_summary_equipment_exercises,"async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_as_markdown_format,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_name_without_follow_along,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_summary_suitability_and_presence,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_equipment_section_availability,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_post_exercise_repetitions,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_deduplication_side_exercises,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_non_splitable_routine_check,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_response_markdown_format,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_routine_name_response_start,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_absence_of_follow_along_in_name,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_summary_section_target_correctness,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_equipment_section_existence,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_exercises_with_time_or_reps_post_name,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_no_repeat_exercises_both_sides,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_no_text_below_exercise_list,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_alternative_for_no_routine,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_completeness_and_correctness_of_response,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_markdown_format,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_presence_headers_summary_equipment_exercises,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_no_text_post_exercises_list,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_descriptions_under_exercise_header,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_no_duplicate_side_exercise,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_no_redundant_information_in_response,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_follow_along_routine_description,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_present_in_routine,assert_response_completeness_and_correctness,"async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
","async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_name_without_follow_along,assert_absence_of_follow_along_in_name,"async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_as_markdown_format,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_name_present_in_routine,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_name_without_follow_along,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_equipment_section_availability,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_post_exercise_repetitions,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_deduplication_side_exercises,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_non_splitable_routine_check,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_response_markdown_format,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_routine_name_response_start,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_absence_of_follow_along_in_name,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_summary_section_target_correctness,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_equipment_section_existence,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_exercises_with_time_or_reps_post_name,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_no_repeat_exercises_both_sides,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_no_text_below_exercise_list,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_alternative_for_no_routine,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_completeness_and_correctness_of_response,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_markdown_format,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_presence_headers_summary_equipment_exercises,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_no_text_post_exercises_list,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_descriptions_under_exercise_header,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_no_duplicate_side_exercise,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_no_redundant_information_in_response,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_follow_along_routine_description,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_suitability_and_presence,assert_response_completeness_and_correctness,"async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
","async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_as_markdown_format,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_name_present_in_routine,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_name_without_follow_along,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_summary_suitability_and_presence,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_post_exercise_repetitions,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_deduplication_side_exercises,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_non_splitable_routine_check,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_response_markdown_format,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_routine_name_response_start,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_absence_of_follow_along_in_name,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_summary_section_target_correctness,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_equipment_section_existence,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_exercises_with_time_or_reps_post_name,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_no_repeat_exercises_both_sides,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_no_text_below_exercise_list,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_alternative_for_no_routine,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_completeness_and_correctness_of_response,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_markdown_format,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_presence_headers_summary_equipment_exercises,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_no_text_post_exercises_list,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_descriptions_under_exercise_header,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_no_duplicate_side_exercise,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_no_redundant_information_in_response,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_follow_along_routine_description,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_availability,assert_response_completeness_and_correctness,"async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
","async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_post_exercise_repetitions,assert_absence_of_follow_along_in_name,"async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_as_markdown_format,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_name_present_in_routine,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_name_without_follow_along,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_summary_suitability_and_presence,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_equipment_section_availability,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_post_exercise_repetitions,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_non_splitable_routine_check,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_response_markdown_format,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_routine_name_response_start,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_absence_of_follow_along_in_name,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_summary_section_target_correctness,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_equipment_section_existence,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_exercises_with_time_or_reps_post_name,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_no_repeat_exercises_both_sides,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_no_text_below_exercise_list,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_alternative_for_no_routine,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_completeness_and_correctness_of_response,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_markdown_format,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_presence_headers_summary_equipment_exercises,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_no_text_post_exercises_list,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_descriptions_under_exercise_header,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_no_duplicate_side_exercise,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_no_redundant_information_in_response,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_follow_along_routine_description,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_deduplication_side_exercises,assert_response_completeness_and_correctness,"async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
","async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_non_splitable_routine_check,assert_absence_of_follow_along_in_name,"async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_as_markdown_format,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_absence_of_follow_along_in_name,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_equipment_section_existence,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_completeness_and_correctness_of_response,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_markdown_format,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_markdown_format,assert_presence_headers_summary_equipment_exercises,"async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_routine_name_response_start,assert_as_markdown_format,"async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_routine_name_response_start,assert_absence_of_follow_along_in_name,"async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_routine_name_response_start,assert_equipment_section_existence,"async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_routine_name_response_start,assert_completeness_and_correctness_of_response,"async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_routine_name_response_start,assert_presence_headers_summary_equipment_exercises,"async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_summary_section_target_correctness,assert_absence_of_follow_along_in_name,"async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_existence,assert_as_markdown_format,"async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_existence,assert_absence_of_follow_along_in_name,"async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_existence,assert_completeness_and_correctness_of_response,"async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_equipment_section_existence,assert_presence_headers_summary_equipment_exercises,"async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_as_markdown_format,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_name_without_follow_along,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_response_markdown_format,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_routine_name_response_start,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_absence_of_follow_along_in_name,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_summary_section_target_correctness,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_equipment_section_existence,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_completeness_and_correctness_of_response,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_markdown_format,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_presence_headers_summary_equipment_exercises,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_descriptions_under_exercise_header,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_exercises_with_time_or_reps_post_name,assert_follow_along_routine_description,"async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_as_markdown_format,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_name_present_in_routine,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_name_without_follow_along,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_summary_suitability_and_presence,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_equipment_section_availability,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_deduplication_side_exercises,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_response_markdown_format,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_routine_name_response_start,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_absence_of_follow_along_in_name,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_equipment_section_existence,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_exercises_with_time_or_reps_post_name,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_no_text_below_exercise_list,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_markdown_format,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_presence_headers_summary_equipment_exercises,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_no_text_post_exercises_list,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_descriptions_under_exercise_header,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_no_duplicate_side_exercise,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_repeat_exercises_both_sides,assert_no_redundant_information_in_response,"async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_as_markdown_format,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_name_without_follow_along,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_non_splitable_routine_check,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_response_markdown_format,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_absence_of_follow_along_in_name,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_summary_section_target_correctness,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_equipment_section_existence,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_alternative_for_no_routine,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_completeness_and_correctness_of_response,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_markdown_format,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_presence_headers_summary_equipment_exercises,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_descriptions_under_exercise_header,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_no_redundant_information_in_response,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_below_exercise_list,assert_follow_along_routine_description,"async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_alternative_for_no_routine,assert_absence_of_follow_along_in_name,"async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_completeness_and_correctness_of_response,assert_as_markdown_format,"async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_completeness_and_correctness_of_response,assert_absence_of_follow_along_in_name,"async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_completeness_and_correctness_of_response,assert_equipment_section_existence,"async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_completeness_and_correctness_of_response,assert_presence_headers_summary_equipment_exercises,"async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_as_markdown_format,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_response_markdown_format,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_absence_of_follow_along_in_name,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_equipment_section_existence,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_completeness_and_correctness_of_response,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_markdown_format,assert_presence_headers_summary_equipment_exercises,"async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_presence_headers_summary_equipment_exercises,assert_as_markdown_format,"async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_presence_headers_summary_equipment_exercises,assert_absence_of_follow_along_in_name,"async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_presence_headers_summary_equipment_exercises,assert_equipment_section_existence,"async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_presence_headers_summary_equipment_exercises,assert_completeness_and_correctness_of_response,"async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_as_markdown_format,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_name_present_in_routine,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_name_present_in_routine(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response contains a section about the name of the routine.
    """"""
    return f""### \""{example['vid_name']}\"" Routine:"" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_name_without_follow_along,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_summary_suitability_and_presence,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_summary_suitability_and_presence(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that there is a summary section and it's not too long.
    """"""
    if ""**Summary:**"" not in response:
        return False
    summary_content = response.split(""**Summary:**"")[-1]
    summary_sentences = summary_content.split(""."")
    return (
        0 < len(summary_sentences) <= 3
    )  # Assumes a couple of sentences can mean two or three.
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_equipment_section_availability,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_equipment_section_availability(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the response contains a section listing the necessary equipment.
    """"""
    return ""**Equipment Needed:**"" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_post_exercise_repetitions,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_post_exercise_repetitions(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that the number of repetitions or the time is placed after the exercise name.
    """"""
    # Typically, this can be achieved by pattern matching, but we assume ask_llm is a fallback.
    return not any(
        exercise_time in desc
        for exercise_time in response.split(""\n"")
        if ""("" in exercise_time
        for desc in response.split(""\n"")
        if "":"" in desc
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_deduplication_side_exercises,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_deduplication_side_exercises(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check that exercises performed on both sides mention 'on each side' without repetition in the list.
    """"""
    return ""on each side"" in response and response.count(
        ""on each side""
    ) == response.count(""("")
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_non_splitable_routine_check,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_non_splitable_routine_check(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response indicates the absence of a follow-along routine when applicable.
    """"""
    question = ""Does the response correctly indicate if the text does not contain a follow-along routine that can be split into exercises?""
    return await ask_llm(formatted_prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_response_markdown_format,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_routine_name_response_start,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_routine_name_response_start(example: dict, prompt: str, response: str):
    """"""
    Check if the response starts with the routine name.
    """"""
    routine_name = example[""vid_name""].replace(""follow along"", """").strip()
    return response.lstrip(""# "").startswith(routine_name)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_absence_of_follow_along_in_name,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_summary_section_target_correctness,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_equipment_section_existence,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_exercises_with_time_or_reps_post_name,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_exercises_with_time_or_reps_post_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the exercises are listed with reps or time directly after the exercise name.
    """"""
    exercises_section = response.split(""## Exercises\n"", 1)[-1]
    for exercise in exercises_section.strip().split(""\n\n""):
        if not exercise.startswith(""### "") or ""("" not in exercise:
            return False
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_no_repeat_exercises_both_sides,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_no_repeat_exercises_both_sides(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercises done on both sides are not repeated and have 'on each side' included.
    """"""
    question = ""Are there any exercises listed for the right side and left side separately, instead of mentioning once with 'on each side'?""
    # The LLM will return True if there is an error; we need to invert that result
    return not await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_no_text_below_exercise_list,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_no_text_below_exercise_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no additional text below the exercises list.
    """"""
    exercises_ending = ""### Cool-Down and Stretch:""
    return exercises_ending in response and not response.strip().endswith(
        exercises_ending
    )
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_alternative_for_no_routine,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_completeness_and_correctness_of_response,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_markdown_format,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_presence_headers_summary_equipment_exercises,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_descriptions_under_exercise_header,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_no_duplicate_side_exercise,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_no_redundant_information_in_response,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_follow_along_routine_description,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_text_post_exercises_list,assert_response_completeness_and_correctness,"async def assert_no_text_post_exercises_list(example: dict, prompt: str, response: str):
    """"""
    Check that there is no text below the exercises list in the response.
    """"""
    exercises_end_index = response.rfind(""###"") + response.rsplit(""###"", 1)[-1].rfind(
        ""\n""
    )
    return exercises_end_index == len(response.strip())
","async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_as_markdown_format,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_response_markdown_format,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_response_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format.
    """"""
    return response.startswith(""# "") and ""\n## "" in response and ""\n### "" in response
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_absence_of_follow_along_in_name,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_equipment_section_existence,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_completeness_and_correctness_of_response,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_markdown_format,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_markdown_format(example: dict, prompt: str, response: str):
    """"""
    Check if the response is in markdown format by looking for markdown headers (e.g., '#', '##', '###').
    """"""
    expected_headers = [""# "", ""## "", ""### ""]
    return all(header in response for header in expected_headers)
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_descriptions_under_exercise_header,assert_presence_headers_summary_equipment_exercises,"async def assert_descriptions_under_exercise_header(
    example: dict, prompt: str, response: str
):
    """"""
    Check that exercise descriptions appear under the 'Exercises' header.
    """"""
    try:
        exercises_start_index = response.index(""## Exercises"")
        exercises_end_index = response.index(""### "", exercises_start_index)
        return (
            response[exercises_start_index:exercises_end_index].strip()
            == ""## Exercises""
        )
    except Exception as e:
        return False
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_as_markdown_format,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_name_without_follow_along,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_absence_of_follow_along_in_name,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_summary_section_target_correctness,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_summary_section_target_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Check if there is a summary section that describes the routine and the target audience.
    """"""
    question = ""Is there a separate summary section below the routine name that describes the routine and its target audience, in no more than a couple of sentences?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_equipment_section_existence,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",False
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_alternative_for_no_routine,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_alternative_for_no_routine(example: dict, prompt: str, response: str):
    """"""
    Check for an alternative response when the text does not contain a follow-along routine that can be split into exercises.
    """"""
    question = ""If the text does not contain a follow-along routine, does the response indicate so?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_completeness_and_correctness_of_response,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_completeness_and_correctness_of_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check the response for correctness and completeness, including summaries, equipment, and exercise lists.
    """"""
    question = ""Does the response include a complete and correct summary, equipment list, and exercises list while adhering to the specified format?""
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_presence_headers_summary_equipment_exercises,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_duplicate_side_exercise,assert_follow_along_routine_description,"async def assert_no_duplicate_side_exercise(example: dict, prompt: str, response: str):
    """"""
    Verify that if an exercise is performed on both sides, it is stated only once with 'on each side'.
    """"""
    exercises_segment = response.split(""## Exercises"")[-1]
    return (
        ""on each side"" in exercises_segment
        and ""left side"" not in exercises_segment
        and ""right side"" not in exercises_segment
    )
","async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_redundant_information_in_response,assert_name_without_follow_along,"async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
","async def assert_name_without_follow_along(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Verify that the routine name does not contain 'follow along'.
    """"""
    return ""follow along"" not in response.lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_no_redundant_information_in_response,assert_absence_of_follow_along_in_name,"async def assert_no_redundant_information_in_response(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response does not repeat the same information twice, especially within the exercise instructions.
    """"""
    exercises_content = response.split(""## Exercises"")[-1]
    unique_content = set()
    for line in exercises_content.split(""\n""):
        if line.strip() and line.strip() in unique_content:
            return False
        unique_content.add(line.strip())
    return True
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_follow_along_routine_description,assert_absence_of_follow_along_in_name,"async def assert_follow_along_routine_description(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the given text contains a follow-along routine that one can split into exercises.
    """"""
    question = (
        ""Does the text contain a follow-along routine that can be split into exercises?""
    )
    return await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_completeness_and_correctness,assert_as_markdown_format,"async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
","async def assert_as_markdown_format(
    example: dict, formatted_prompt: str, response: str
) -> bool:
    """"""
    Check if the response is in markdown format.
    """"""
    patterns = [
        r""^#{1,6}\s"",  # Header
        r""^\s*[-*]\s"",  # Unordered list
        r""^\s*\d+\.\s"",  # Ordered list
        r""\[.+\]\(.+\)"",  # Link
        r""\*\*.+\*\*"",  # Bold text
        r""\*.+\*"",  # Italic text
        r""`[^`]+`"",  # Inline code
        r""^```\n[\s\S]*?\n```"",  # Fenced code block
    ]

    # Check if any pattern matches
    for pattern in patterns:
        if re.search(pattern, response, re.MULTILINE):
            return True

    return False
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_completeness_and_correctness,assert_absence_of_follow_along_in_name,"async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
","async def assert_absence_of_follow_along_in_name(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the 'follow along' text is removed from the routine name.
    """"""
    return ""follow along"" not in response.split(""\n"", 1)[0].lower()
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_completeness_and_correctness,assert_equipment_section_existence,"async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
","async def assert_equipment_section_existence(example: dict, prompt: str, response: str):
    """"""
    Check if there is a separate equipment section in the response.
    """"""
    if ""## Equipment"" not in response:
        return False
    equipment_section_index = response.index(""## Equipment"")
    return response[equipment_section_index:].count(""\n"") > 1
",True
"The following text delimited by three backticks is a text of a follow-along ""{vid_name}"" :
```
{vid_text}
```

Please split it into exercises.
Start with the name of the routine. If the name contains ""follow along"" words, remove it.
Then add a summary section that describes the routine and tells who is it good for. The summary shouldn't be longer than a couple of sentences.
Then add a section about the equipment needed to follow the routine.
Put the number of repetitions or the time after the exercise name, don't add it to the exercise description.
If the exercise is on the right side and on the left side don't repeat it twice in the list, just put ""on each side"" after the number of repetitions or time.
Don't add any text below the exercises list.
The result should be in markdown format
If the text doesn't contain a follow-along routine that one can split into exercises say so.
Example output:
# 5 Minute Morning Mobility Routine

## Summary
This five-minute morning mobility routine is ideal for waking up your body and increasing flexibility. The routine targets various body parts and includes a mixture of stretches and transitions. It's perfect for those looking to improve mobility, flexibility, and start their day feeling energized.

## Equipment 

- Gymnastic rings
- Resistance band (optional)

## Exercises

### Transition from Pike to Squat (5 repetitions): 
- Start in a pike position.
- Transition to a squat, breathing out on the way up and in on the way down.
- Attempt to go as deep as possible into both the pike and squat.

### Pike Rotations (5 repetitions on each side): 
- After the fifth rep of the pike to squat transition, start the rotations.
- Reach round to either side and pause briefly.
- Aim for a stretch in the lower back.


",The provided text does not contain a follow-along routine that one can split into exercises. It is a description of a 60-minute total body strength workout that includes the structure of the workout rather than specific exercises and their details.,assert_response_completeness_and_correctness,assert_presence_headers_summary_equipment_exercises,"async def assert_response_completeness_and_correctness(
    example: dict, prompt: str, response: str
):
    """"""
    Use ask_llm to determine if the response demonstrates correctness and completeness by accurately representing the details of the routine.
    """"""
    question = ""Does the response accurately represent the details of the given mobility routine, including the correct exercise names and descriptions?""
    return await ask_llm(prompt, response, question)
","async def assert_presence_headers_summary_equipment_exercises(
    example: dict, prompt: str, response: str
):
    """"""
    Check if the response contains specific headers 'Summary', 'Equipment', and 'Exercises'.
    """"""
    required_headers = [""## Summary"", ""## Equipment"", ""## Exercises""]
    return all(header in response for header in required_headers)
",True
